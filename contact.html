<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact Us - NFS Insure</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary: #2c3e50;
        --primary-dark: #1a252f;
        --secondary: #d4af37;
        --accent: #3498db;
        --success: #27ae60;
        --danger: #e74c3c;
        --dark: #0f172a;
        --light: #f8fafc;
        --gray-50: #f9fafb;
        --gray-100: #f3f4f6;
        --gray-200: #e5e7eb;
        --gray-300: #d1d5db;
        --gray-400: #9ca3af;
        --gray-500: #6b7280;
        --gray-600: #4b5563;
        --gray-700: #374151;
        --gray-800: #1f2937;
        --gray-900: #111827;
        --gradient-1: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
        --gradient-2: linear-gradient(135deg, #d4af37 0%, #f1c40f 100%);
        --gradient-3: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        --gradient-4: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
        --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        --shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1),
          0 2px 4px -2px rgb(0 0 0 / 0.1);
        --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1),
          0 4px 6px -4px rgb(0 0 0 / 0.1);
        --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1),
          0 8px 10px -6px rgb(0 0 0 / 0.1);

        /* New Lighter Color Variables for improved visuals */
        --primary-light: #5d82a3;
        --secondary-light: #f1dd81;
        --accent-light: #8cd6f8;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        line-height: 1.7;
        color: var(--gray-800);
        overflow-x: hidden;
        scroll-behavior: smooth;
      }

      /* Navigation */
      .navbar {
        background: none;
        backdrop-filter: none;
        -webkit-backdrop-filter: none;
        border-bottom: none;
        padding: 1rem 0;
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 1000;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        display: flex;
        justify-content: center;
      }

      .navbar-custom-container {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-radius: 50px;
        padding: 0.75rem 2rem;
        box-shadow: var(--shadow-lg);
        max-width: 90%;
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
        width: 100%;
        max-width: 1200px;
      }

      .navbar.scrolled .navbar-custom-container {
        padding: 0.6rem 1.8rem;
        box-shadow: var(--shadow-xl);
      }

      .navbar-brand {
        display: flex;
        align-items: center;
        font-weight: 800;
        font-size: 1.75rem;
        color: var(--primary) !important;
        text-decoration: none;
        padding: 0;
        margin-right: 1.5rem;
      }

      .navbar-brand .logo-img {
        height: 50px;
        width: auto;
        transition: all 0.3s ease;
        filter: drop-shadow(0 0 5px rgba(0, 0, 0, 0.2));
        margin-right: 0.5rem;
      }

      .navbar-brand:hover .logo-img {
        transform: scale(1.08);
        filter: drop-shadow(0 0 10px rgba(0, 0, 0, 0.3));
      }

      .nav-link {
        color: var(--gray-600) !important;
        font-weight: 500;
        margin: 0 0.75rem;
        padding: 0.5rem 1rem !important;
        border-radius: 10px;
        transition: all 0.2s ease;
        position: relative;
        font-size: 1rem;
      }

      .nav-link:hover {
        color: var(--primary) !important;
        background: var(--gray-100);
        transform: translateY(-2px);
      }

      .nav-link.active {
        color: var(--accent) !important;
        background: var(--gray-50);
        font-weight: 600;
      }

      /* Dropdown specific styles */
      .nav-item.dropdown .nav-link {
        padding-right: 1.5rem !important;
      }

      .nav-item.dropdown .dropdown-toggle::after {
        margin-left: 0.5em;
      }

      .dropdown-menu {
        border-radius: 12px;
        box-shadow: var(--shadow-lg);
        border: 1px solid var(--gray-200);
        padding: 0.5rem 0;
        min-width: 160px;
        animation: fadeIn 0.3s ease-out;
      }

      .dropdown-item {
        color: var(--gray-700);
        padding: 0.75rem 1.5rem;
        transition: background-color 0.2s ease, color 0.2s ease;
        font-size: 1rem;
      }

      .dropdown-item:hover {
        background-color: var(--accent);
        color: white;
        border-radius: 8px;
        margin: 0 0.5rem;
      }

      /* Re-designed Contact Button */
      .contact-btn-nav {
        background: var(--gradient-1);
        color: white !important;
        padding: 0.75rem 1.5rem !important;
        border-radius: 50px;
        font-weight: 600;
        margin-left: 1rem;
        box-shadow: var(--shadow);
        transition: all 0.3s ease;
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        white-space: nowrap;
      }

      .contact-btn-nav:hover {
        transform: translateY(-2px) scale(1.05);
        box-shadow: var(--shadow-xl);
        color: white !important;
      }

      .contact-btn-nav i {
        color: white;
      }

      .navbar-contact-info,
      .contact-btn {
        display: none !important;
      }

      .navbar-toggler {
        border: none;
        font-size: 1.5rem;
        color: var(--primary);
        transition: transform 0.2s ease;
      }

      .navbar-toggler:focus {
        box-shadow: none;
      }

      .navbar-toggler:active {
        transform: scale(0.9);
      }

      /* Subpage Hero Section */
      .subpage-hero {
        min-height: 50vh;
        display: flex;
        align-items: center;
        position: relative;
        overflow: hidden;
        background: url("https://images.unsplash.com/photo-1517841961448-b4b0e7d0f9a2?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D")
          no-repeat center center;
        background-size: cover;
        padding-top: 100px;
        text-align: center;
      }

      .subpage-hero::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          to right,
          rgba(26, 37, 47, 0.9),
          rgba(52, 152, 219, 0.7)
        );
        z-index: 1;
      }

      .subpage-hero-content {
        position: relative;
        z-index: 2;
        width: 100%;
      }

      .subpage-hero h1 {
        font-size: clamp(2.5rem, 5vw, 4rem);
        font-weight: 800;
        color: white;
        margin-bottom: 1rem;
        line-height: 1.2;
        text-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
      }

      .breadcrumb-nav {
        color: rgba(255, 255, 255, 0.8);
        font-size: 1.1rem;
      }

      .breadcrumb-nav a {
        color: rgba(255, 255, 255, 0.9);
        text-decoration: none;
        transition: color 0.2s ease;
      }
      .breadcrumb-nav a:hover {
        color: var(--secondary);
      }
      .breadcrumb-nav span {
        margin: 0 0.5rem;
      }

      /* General Section Styling */
      .section-header {
        text-align: center;
        margin-bottom: 5rem;
      }

      .section-subtitle {
        color: var(--accent);
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
        font-size: 0.875rem;
        margin-bottom: 1rem;
      }

      .section-title {
        font-size: clamp(2.5rem, 5vw, 3.5rem);
        font-weight: 800;
        color: var(--primary);
        margin-bottom: 1.5rem;
        line-height: 1.2;
      }

      .section-description {
        font-size: 1.25rem;
        color: var(--gray-600);
        max-width: 800px;
        margin: 0 auto;
        line-height: 1.8;
      }

      /* Contact Form Section */
      .contact-form-section {
        padding: 8rem 0;
        background: var(--gray-50);
      }
      .contact-form-card {
        background: white;
        border-radius: 24px;
        padding: 3rem;
        box-shadow: var(--shadow-lg);
        border: 1px solid var(--gray-200);
      }
      .contact-form-card .form-control,
      .contact-form-card .form-select {
        border-radius: 10px;
        padding: 0.85rem 1.25rem;
        border: 1px solid var(--gray-300);
        box-shadow: none;
        transition: all 0.2s ease;
        font-size: 1rem;
      }
      .contact-form-card .form-control:focus,
      .contact-form-card .form-select:focus {
        border-color: var(--accent);
        box-shadow: 0 0 0 0.25rem rgba(52, 152, 219, 0.25);
      }
      .contact-form-card textarea.form-control {
        min-height: 150px;
        resize: vertical;
      }
      .contact-form-card .btn-primary {
        background: var(--gradient-1);
        border: none;
        border-radius: 12px;
        padding: 0.85rem 2.5rem;
        font-weight: 600;
        font-size: 1.1rem;
        transition: all 0.3s ease;
        box-shadow: var(--shadow);
        color: white; /* Ensure text color is white */
      }
      .contact-form-card .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
        opacity: 0.9;
      }
      .contact-form-card .btn-primary:active {
        transform: translateY(0);
        box-shadow: var(--shadow-sm);
      }

      /* Map Section */
      .map-section {
        padding-bottom: 6rem; /* Add padding at the bottom */
        background: var(--gray-50); /* Match background of form section */
      }
      .map-container {
        border-radius: 24px;
        overflow: hidden;
        box-shadow: var(--shadow-xl);
        margin: 0 auto;
        max-width: 100%;
        aspect-ratio: 16 / 9; /* Maintain aspect ratio */
        border: 1px solid var(--gray-200);
        position: relative; /* For the overlay link */
      }
      .map-container iframe {
        width: 100%;
        height: 100%;
        border: 0;
        border-radius: 24px; /* Apply border-radius to iframe as well */
        pointer-events: none; /* Allow clicks to pass through to the parent <a> */
      }
      .map-container .map-overlay-link {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 10; /* Make it clickable over the iframe */
        background: rgba(0, 0, 0, 0); /* Transparent background */
      }

      /* Contact Info Section (New Styling) */
      .contact-info-section {
        padding: 8rem 0; /* Consistent with other main sections */
        background: white; /* White background like service cards */
      }
      .contact-info-card {
        background: white; /* White background */
        border-radius: 24px;
        padding: 2.5rem;
        box-shadow: var(
          --shadow-sm
        ); /* Softer initial shadow like service cards */
        border: 1px solid var(--gray-200); /* Consistent border */
        transition: all 0.3s ease;
        height: 100%; /* Ensure equal height with d-flex on columns */
        display: flex;
        flex-direction: column;
        justify-content: center; /* Center content vertically */
        align-items: center; /* Center content horizontally */
        text-align: center;
        flex-grow: 1; /* Allow cards to grow equally in flex container */
        flex-basis: 0; /* Ensures equal distribution of space */
      }
      .contact-info-card:hover {
        transform: translateY(-8px); /* Lift on hover, same as service cards */
        box-shadow: var(--shadow-xl); /* Stronger shadow on hover */
        border-color: var(--secondary); /* Secondary accent on hover */
        animation: glow-border 1s infinite alternate; /* Re-added glow animation */
      }
      .contact-info-card .icon-wrapper {
        /* Added icon-wrapper class for consistency */
        font-size: 2.5rem; /* Icon size matching service cards */
        color: var(--primary); /* Primary color for icon */
        margin-bottom: 1.5rem;
        width: 70px; /* Matching service card icon wrapper size */
        height: 70px;
        border-radius: 18px; /* Matching service card icon wrapper border-radius */
        background: var(
          --gray-100
        ); /* Matching service card icon wrapper background */
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        text-shadow: none; /* Remove glow for consistency with service cards */
      }
      .contact-info-card:hover .icon-wrapper {
        /* Hover for icon-wrapper */
        background: var(--primary); /* Primary background on hover */
        color: white; /* White icon on hover */
        transform: translateY(-5px) rotate(5deg); /* Consistent hover effect */
      }
      .contact-info-card h4 {
        font-size: 1.4rem; /* Matching service card heading size */
        font-weight: 700;
        color: var(--primary); /* Primary color for heading */
        margin-bottom: 1rem;
      }
      .contact-info-card p {
        font-size: 1rem; /* Slightly smaller text for consistency */
        color: var(--gray-600); /* Gray color for text */
        margin-bottom: 0.5rem;
        flex-grow: 1; /* Allow text to grow and push links down */
      }
      .contact-info-card a {
        color: var(--primary); /* Primary color for links */
        text-decoration: none;
        transition: color 0.2s ease, text-decoration 0.2s ease;
        font-weight: 500;
      }
      .contact-info-card a:hover {
        color: var(--accent); /* Accent color on hover for links */
        text-decoration: underline;
      }

      /* Footer */
       /* START of the new CSS for social icon hover colors and layout fixes */
      /* Custom adjustments for improved display */
      /* Footer Contact Us section display */
      .footer .col-lg-3.col-md-6 .social-links {
          display: flex; /* Use flexbox for social links */
          gap: 10px; /* Space between social icons */
          margin-top: 1.5rem; /* More space above social icons */
          justify-content: flex-start; /* Align left */
      }

      /* Adjust padding for footer paragraphs to reduce squishing */
      .footer .col-lg-3.col-md-6 p {
          margin-bottom: 0.75rem; /* More space between lines of contact info */
      }

      /* Make sure the clickable links within footer contact info wrap properly */
      .footer .col-lg-3.col-md-6 p a {
          display: inline; /* Allow text to wrap naturally */
          padding: 0; /* Remove extra padding from 'display: block' in general footer a */
          margin: 0; /* Remove extra margin */
          word-break: break-word; /* Break long words if necessary */
      }

      /* Footer specific social icon hover colors */
      .footer .social-links a.facebook:hover {
          background-color: #3b5998; /* Facebook Blue */
      }
      .footer .social-links a.twitter:hover {
          background-color: #00acee; /* Twitter Blue */
      }
      .footer .social-links a.instagram:hover {
          background-color: #C13584; /* Instagram Pink/Purple */
      }
      .footer .social-links a.linkedin:hover {
          background-color: #0077B5; /* LinkedIn Blue */
      }
      /* END of the new CSS */
      .footer {
        background: var(--gray-900);
        color: var(--gray-400);
        padding: 6rem 0 2rem;
      }

      .footer h5 {
        color: white;
        margin-bottom: 1.5rem;
        font-weight: 700;
      }

      .footer a {
        color: var(--gray-400);
        text-decoration: none;
        transition: all 0.3s ease;
        display: block;
        padding: 0.4rem 0;
      }

      .footer a:hover {
        color: var(--secondary);
        padding-left: 5px;
      }

      .footer .social-links a {
        display: inline-flex;
        width: 40px;
        height: 40px;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        background: var(--gray-800);
        color: white;
        margin-right: 0.5rem;
        text-decoration: none;
      }

      .footer .social-links a:hover {
        background: var(--accent);
        color: white;
        padding-left: 0;
        transform: scale(1.1);
      }

      .footer-bottom {
        border-top: 1px solid var(--gray-800);
        padding-top: 2rem;
        margin-top: 4rem;
      }

      .footer-bottom a {
        color: var(--secondary);
        text-decoration: underline;
        display: inline;
        padding: 0;
      }
      .footer-bottom a:hover {
        color: white;
      }

      /* WhatsApp Button */
      .whatsapp-btn {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        width: 60px;
        height: 60px;
        background: #25d366;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.5rem;
        box-shadow: 0 10px 30px rgba(37, 211, 102, 0.4);
        transition: all 0.3s ease;
        z-index: 1000;
        text-decoration: none;
        animation: bounce 2s infinite;
        cursor: pointer; /* Indicate it's clickable */
      }

      .whatsapp-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 15px 40px rgba(37, 211, 102, 0.6);
        color: white;
      }

      /* WhatsApp Chat Modal Styling */
      .whatsapp-chat-modal .modal-content {
        border-radius: 1rem;
        box-shadow: var(--shadow-xl);
        border: none;
        overflow: hidden; /* Ensures border-radius applies to children */
      }
      .whatsapp-chat-modal .modal-header {
        background: #25d366; /* WhatsApp Green */
        color: white;
        border-top-left-radius: 1rem;
        border-top-right-radius: 1rem;
        border-bottom: none;
        padding: 1.25rem 1.5rem;
        display: flex;
        align-items: center;
        gap: 0.75rem;
      }
      .whatsapp-chat-modal .modal-header h5 {
        font-weight: 700;
        margin-bottom: 0;
        font-size: 1.3rem;
        flex-grow: 1; /* Allow title to take available space */
      }
      .whatsapp-chat-modal .modal-header .btn-close {
        filter: invert(1);
        opacity: 0.8;
        transition: opacity 0.2s ease;
        font-size: 1.2rem;
      }
      .whatsapp-chat-modal .modal-header .btn-close:hover {
        opacity: 1;
      }
      .whatsapp-chat-modal .modal-body {
        padding: 1.5rem;
        color: var(--gray-700);
        line-height: 1.7;
        background: var(--light); /* Light background for chat area */
        text-align: center;
      }
      .whatsapp-chat-modal .modal-body .chat-bubble {
        background: white;
        border-radius: 15px;
        padding: 1rem 1.25rem;
        box-shadow: var(--shadow-sm);
        max-width: 85%;
        margin: 0 auto 1.5rem auto; /* Center the bubble and give space */
        text-align: left;
        position: relative;
      }
      .whatsapp-chat-modal .modal-body .chat-bubble::after {
        content: "";
        position: absolute;
        left: 50%; /* Center the pseudo-element horizontally */
        bottom: -8px; /* Position it below the bubble */
        transform: translateX(-50%) rotate(45deg); /* Rotate for triangle effect */
        width: 15px;
        height: 15px;
        background: white;
        box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1); /* Match bubble shadow */
        z-index: -1; /* Place behind bubble */
        border-bottom-right-radius: 5px; /* Softer tip */
      }
      .whatsapp-chat-modal .modal-body p {
        margin-bottom: 0.5rem;
        font-size: 0.95rem;
      }
      .whatsapp-chat-modal .modal-body .chat-avatar {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: var(--primary);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        margin: 0 auto 1rem auto;
        box-shadow: var(--shadow-sm);
      }
      .whatsapp-chat-modal .modal-body .chat-message {
        margin-top: 1.5rem;
        font-size: 1.1rem;
        color: var(--gray-800);
        font-weight: 500;
      }
      .whatsapp-chat-modal .modal-footer {
        border-top: 1px solid var(--gray-100);
        padding: 1.5rem;
        background: var(--gray-50);
        border-bottom-left-radius: 1rem;
        border-bottom-right-radius: 1rem;
        justify-content: center; /* Center the button */
      }
      .whatsapp-chat-modal .modal-footer .btn-whatsapp {
        background: #25d366; /* WhatsApp Green */
        color: white;
        border: none;
        padding: 0.75rem 2rem;
        border-radius: 50px;
        font-weight: 600;
        font-size: 1.1rem;
        transition: all 0.3s ease;
        box-shadow: var(--shadow);
      }
      .whatsapp-chat-modal .modal-footer .btn-whatsapp:hover {
        background: #1da851; /* Darker green on hover */
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
      }
      .whatsapp-chat-modal .modal-footer .btn-whatsapp:active {
        transform: translateY(0);
        box-shadow: var(--shadow-sm);
      }

      /* Animations */
      @keyframes bounce {
        0%,
        20%,
        53%,
        80%,
        100% {
          transform: translateY(0);
        }
        40%,
        43% {
          transform: translateY(-10px);
        }
        70% {
          transform: translateY(-5px);
        }
        90% {
          transform: translateY(-2px);
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Re-introduced glow animation for contact cards */
      @keyframes glow-border {
        0% {
          box-shadow: var(--shadow-sm);
          border-color: var(--gray-200);
        }
        50% {
          box-shadow: 0 0 20px 5px var(--secondary-light); /* Light yellow glow */
          border-color: var(--secondary);
        }
        100% {
          box-shadow: var(--shadow-sm);
          border-color: var(--gray-200);
        }
      }

      /* Mobile View Improvements */
      @media (max-width: 991px) {
        .navbar {
          justify-content: center;
          padding: 1rem 0;
        }
        .navbar-custom-container {
          width: 90%;
          padding: 0.75rem 1rem;
          flex-direction: column;
          border-radius: 20px;
        }
        .navbar-brand {
          margin-right: 0;
          margin-bottom: 1rem;
        }
        .navbar-collapse {
          background: rgba(255, 255, 255, 0.98);
          border-radius: 12px;
          box-shadow: var(--shadow-lg);
          margin-top: 1rem;
          padding: 1rem;
          width: 100%;
        }
        .navbar-nav {
          width: 100%;
        }
        .navbar-nav .nav-item {
          text-align: center;
        }
        .nav-link {
          margin: 0.5rem 0;
        }
        .contact-btn-nav {
          display: flex !important;
          width: fit-content;
          margin: 1rem auto 0 auto;
        }
        .subpage-hero {
          min-height: 40vh;
          padding-top: 80px;
        }
      }
      @media (max-width: 768px) {
        .section-header {
          margin-bottom: 3rem;
        }
        .contact-form-section,
        .contact-info-section,
        .map-section {
          padding: 5rem 0;
        }
        .footer {
          padding: 4rem 0 2rem;
          text-align: center;
        }
        .footer .row > div {
          margin-bottom: 2rem;
        }
        .footer .social-links {
          justify-content: center;
          display: flex;
        }
      }

      /* Chat Bot Button Styles 
      .chat-bot-btn {
        position: fixed;
        bottom: 2rem;
        left: 2rem;
        z-index: 1000;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        transition: all 0.3s ease;
        animation: pulse 2s infinite;
      }

      .chat-bot-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 25px rgba(102, 126, 234, 0.6);
        color: white;
      }

      @keyframes pulse {
        0% {
          box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.7);
        }
        70% {
          box-shadow: 0 0 0 10px rgba(102, 126, 234, 0);
        }
        100% {
          box-shadow: 0 0 0 0 rgba(102, 126, 234, 0);
        }
      }*/

      /* WhatsApp Button Styles */
      .whatsapp-btn {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background-color: #25d366;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        text-decoration: none;
        box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
        transition: all 0.3s ease;
      }

      .whatsapp-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 25px rgba(37, 211, 102, 0.6);
        color: white;
        text-decoration: none;
      }

      /* Modal Styles */
      .chat-modal .modal-dialog {
        max-width: 450px;
        margin: 1.75rem auto;
      }

      .chat-modal .modal-content {
        border-radius: 15px;
        border: none;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        overflow: hidden;
      }

      .chat-modal .modal-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-bottom: none;
        padding: 1rem 1.5rem;
      }

      .chat-modal .modal-header .btn-close {
        background: none;
        border: none;
        color: white;
        font-size: 1.5rem;
        opacity: 0.8;
      }

      .chat-modal .modal-header .btn-close:hover {
        opacity: 1;
      }

      .chat-modal .modal-body {
        padding: 0;
        height: 600px;
        overflow: hidden;
      }

      .chat-modal .modal-body iframe {
        width: 100%;
        height: 100%;
        border: none;
      }

      .modal-title {
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .chat-modal .modal-dialog {
          margin: 0.5rem;
          max-width: calc(100% - 1rem);
        }

        .chat-modal .modal-body {
          height: 500px;
        }

        .chat-bot-btn,
        .whatsapp-btn {
          width: 50px;
          height: 50px;
          font-size: 20px;
        }

        .chat-bot-btn {
          bottom: 1rem;
          left: 15px;
        }

        .whatsapp-btn {
          bottom: 1rem;
          right: 15px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Navigation - Updated structure with logo, nav links, and distinct contact button -->
    <nav class="navbar navbar-expand-lg">
      <div class="navbar-custom-container container">
        <!-- Logo -->
        <a class="navbar-brand" href="index.html">
          <img
            src="img/NFS_Insure_Logo_Blue_Mustard_Combination@2x.png"
            alt="NFS Insure Logo"
            class="logo-img"
          />
        </a>

        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <i class="fas fa-bars"></i>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav mx-auto">
            <!-- mx-auto to center nav links -->
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="about.html">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="service.html">Services</a>
            </li>
            <!-- <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="navbarDropdownMore"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                More
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdownMore">
                <li>
                  <a class="dropdown-item" href="feature.html">Our Features</a>
                </li>
                <li>
                  <a class="dropdown-item" href="testimonial.html"
                    >Testimonial</a
                  >
                </li>
                <li>
                  <a class="dropdown-item active" href="FAQ.html">FAQs</a>
                </li>
              </ul>
            </li> -->
          </ul>
          <!-- Re-introduced and improved Contact Button -->
          <a href="contact.html" class="contact-btn-nav">
            <i class="fas fa-phone-alt"></i> Contact Us
          </a>
        </div>
      </div>
    </nav>

    <!-- Subpage Hero Section -->
    <section class="subpage-hero">
      <div class="container">
        <div class="subpage-hero-content">
          <h1>Contact Us</h1>
          <div class="breadcrumb-nav">
            <a href="index.html">Home</a>
            <span>/</span>
            <a href="#">Pages</a>
            <span>/</span>
            <span>Contact</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Form Section -->
    <section class="contact-form-section">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-8">
            <div class="section-header">
              <h2 class="section-title">Send Your Message</h2>
              <p class="section-description">
                Have a question or need assistance? Reach out to us using the
                form below, and we'll get back to you as soon as possible.
              </p>
            </div>
            <div class="contact-form-card">
              <form>
                <div class="row g-3">
                  <div class="col-md-6">
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Your Name"
                      aria-label="Your Name"
                    />
                  </div>
                  <div class="col-md-6">
                    <input
                      type="email"
                      class="form-control"
                      placeholder="Your Email"
                      aria-label="Your Email"
                    />
                  </div>
                  <div class="col-md-6">
                    <input
                      type="tel"
                      class="form-control"
                      placeholder="Your Phone"
                      aria-label="Your Phone"
                    />
                  </div>
                  <div class="col-md-6">
                    <select
                      class="form-select"
                      id="projectSelect"
                      aria-label="Your Project"
                    >
                      <option selected disabled>Your Project</option>
                      <option value="Risk Cover">Risk Cover</option>
                      <option value="Medical Aid">Medical Aid</option>
                      <option value="Short-Term Insurance">
                        Short-Term Insurance
                      </option>
                      <option value="Savings and Investments">
                        Savings and Investments
                      </option>
                      <option value="Pension and Annuities">
                        Pension and Annuities
                      </option>
                      <option value="General Inquiry">General Inquiry</option>
                    </select>
                  </div>
                  <div class="col-12">
                    <input
                      type="text"
                      class="form-control"
                      id="subjectInput"
                      placeholder="Subject"
                      aria-label="Subject"
                    />
                  </div>
                  <div class="col-12">
                    <textarea
                      class="form-control"
                      id="messageTextarea"
                      placeholder="Message"
                      rows="6"
                      aria-label="Message"
                    ></textarea>
                  </div>
                  <div class="col-12 text-center">
                    <button
                      type="button"
                      class="btn btn-secondary me-2"
                      id="suggestMessageBtn"
                    >
                      ✨ Suggest Message
                    </button>
                    <button type="submit" class="btn btn-primary">
                      Send Message
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Map Section -->
    <section class="map-section py-5">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">Find Us on the Map</h2>
          <p class="section-description">
            Visit our office or get directions using the map below.
          </p>
        </div>
        <!-- Wrapped map-container in an <a> tag -->
        <a
          href="https://www.google.com/maps/place/Eagle+Canyon+Office+Park,+Corner+Christiaan+De+Wet+Street+and+Dolfyn+Street,+Randpark+Ridge,+2154"
          target="_blank"
          class="map-overlay-link-wrapper"
        >
          <div class="map-container">
            <!-- The iframe's src points to the location. The pointer-events: none allows clicks to go to the parent link. -->
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3588.665324546452!2d27.91584961504958!3d-26.06945038342416!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1e959efc3f1f7e09%3A0x6b77c5d4f3b1b6d0!2sEagle%20Canyon%20Office%20Park!5e0!3m2!1sen!2sza!4v1678200000000!5m2!1sen!2sza"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
            ></iframe>
            <!-- Invisible overlay link to make the entire map clickable -->
            <span
              class="map-overlay-link"
              aria-label="Click to open map in new tab"
            ></span>
          </div>
        </a>
      </div>
    </section>

    <!-- Contact Info Section -->
    <section class="contact-info-section">
      <div class="container pb-5">
        <div class="section-header">
          <h2 class="section-title">Get in Touch Directly</h2>
          <p class="section-description">
            Feel free to reach out to us through any of the following channels.
          </p>
        </div>
        <div class="row justify-content-center g-3">
          <div class="col-md-6 col-lg-4 d-flex">
            <div class="contact-info-card">
              <div class="icon-wrapper">
                <i class="fas fa-map-marker-alt"></i>
              </div>
              <h4>Address</h4>
              <p>
                <a
                  href="https://www.google.com/maps/search/Eagle+Canyon+Office+Park,+Corner+Christiaan+De+Wet+Street+and+Dolfyn+Street,+Randpark+Ridge,+2154"
                  target="_blank"
                  >Eagle Canyon Office Park, Corner Christiaan De Wet Street and
                  Dolfyn Street, Randpark Ridge, 2154</a
                >
              </p>
            </div>
          </div>
          <div class="col-md-6 col-lg-4 d-flex">
            <div class="contact-info-card">
              <div class="icon-wrapper"><i class="fas fa-envelope"></i></div>
              <h4>Mail Us</h4>
              <p><a href="mailto:info@nfs.insure">info@nfs.insure</a></p>
            </div>
          </div>
          <div class="col-md-6 col-lg-4 d-flex">
            <div class="contact-info-card">
              <div class="icon-wrapper"><i class="fas fa-phone-alt"></i></div>
              <h4>Telephone</h4>
              <p><a href="tel:+27656363032">+27 65 636 3032</a></p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="row g-5">
          <div class="col-lg-4 col-md-6">
            <a href="index.html" class="p-0">
              <img
                style="height: 50px; margin-bottom: 10px"
                src="img/NFS_Insure_Logo_Off-white_Mustard_Combination@2x.png"
                alt="Logo"
              />
            </a>
            <p>
              Your trusted partner in building a secure financial future. We
              provide comprehensive insurance solutions with integrity and
              transparency.
            </p>
            <p class="mb-0"><strong>FSP No. 53910</strong></p>
          </div>
          <div class="col-lg-2 col-md-6">
            <h5>Useful Links</h5>
            <a href="about.html">About Us</a>
            <a href="service.html">Services</a>
            <a href="FAQ.html">FAQ's</a>
            <a href="contact.html">Contact</a>
          </div>
          <div class="col-lg-3 col-md-6">
            <h5>Legal</h5>
            <a href="docs/PAIA MANUAL WEBSITE.pdf">PAIA Manual</a>
            <a href="docs/Conflict of Interest Management Policy Website.pdf"
              >Conflict of Interest</a
            >
            <a href="docs/Complaints Policy WEBSITE.pdf">Complaints</a>
            <a href="docs/TCF Policy WEBSITE.pdf">TCF</a>
            <a href="docs/PRIVACY NOTICE WEBSITE.pdf">Privacy Notice</a>
          </div>
          <!-- START of the changed HTML for the footer's Contact Us column -->
          <div class="col-lg-3 col-md-6">
            <h5>Contact Us</h5>
            <p>
              <i class="fas fa-map-marker-alt me-2"></i>
              <a
                href="https://www.google.com/maps/search/Eagle+Canyon+Office+Park,+Cnr+Christiaan+De+Wet+%26+Dolfyn+St,+Randpark+Ridge,+2154"
                target="_blank"
                >Eagle Canyon Office Park, Cnr Christiaan De Wet & Dolfyn St, Randpark
                Ridge, 2154</a
              >
            </p>
            <p>
              <i class="fas fa-phone me-2"></i>
              <a href="tel:+27100557272">+27 10 055 7272</a>
            </p>
            <p>
              <i class="fas fa-envelope me-2"></i>
              <a href="mailto:info@nfs.insure">info@nfs.insure</a>
            </p>
            <div class="social-links mt-3">
              <a
                href="https://www.instagram.com/nfs_insure/"
                target="_blank"
                class="instagram"
                ><i class="fab fa-instagram"></i
              ></a>
              <a
                href="https://web.facebook.com/profile.php?id=61566917234605"
                target="_blank"
                class="facebook"
                ><i class="fab fa-facebook-f"></i
              ></a>
              <a
                href="https://www.linkedin.com/company/nfsinsure/about/"
                target="_blank"
                class="linkedin"
                ><i class="fab fa-linkedin-in"></i
              ></a>
            </div>
          </div>
        </div>
        <div class="row footer-bottom text-center">
          <div class="col-12">
            &copy; <span id="current-year"></span>NFS Insure Consultant | All
            Rights Reserved. | <a href="#">Privacy Policy</a>
          </div>
        </div>
      </div>
    </footer>

    <!-- WhatsApp Button - Now triggers a modal -->
    <button
      type="button"
      class="whatsapp-btn"
      data-bs-toggle="modal"
      data-bs-target="#whatsappChatModal"
      aria-label="Chat on WhatsApp"
    >
      <i class="fab fa-whatsapp"></i>
    </button>

    <!-- WhatsApp Chat Modal -->
    <div
      class="modal fade whatsapp-chat-modal"
      id="whatsappChatModal"
      tabindex="-1"
      aria-labelledby="whatsappChatModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-sm">
        <div class="modal-content">
          <div class="modal-header">
            <img
              src="img/NFS_Insure_Logo_Blue_Mustard_Combination@2x.png"
              alt="NFS Insure Logo"
              class="rounded-circle"
              style="height: 40px; width: 40px"
            />
            <h5 class="modal-title" id="whatsappChatModalLabel">
              NFS Insure Support
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="chat-bubble">
              <p>Hi there! 👋</p>
              <p>
                How can we help you today? Click the button below to chat with
                us on WhatsApp.
              </p>
            </div>
            <p class="chat-message">We're here to assist you!</p>
          </div>
          <div class="modal-footer">
            <a
              href="https://wa.me/27656363032?text=Hello%20NFS%20Insure%2C%20I%27m%20interested%20in%20your%20services."
              class="btn btn-whatsapp"
              target="_blank"
              onclick="closeWhatsappModal()"
            >
              <i class="fab fa-whatsapp me-2"></i> Continue to WhatsApp
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Floating Action Buttons -->
    <!-- AI Chat Bot Button -
    <button
      type="button"
      class="chat-bot-btn"
      data-bs-toggle="modal"
      data-bs-target="#chatModal"
      title="Chat with our AI Assistant"
    >
      <i class="fas fa-robot"></i>
    </button>-->

    <!-- Chat Bot Modal -->
    <div
      class="modal fade chat-modal"
      id="chatModal"
      tabindex="-1"
      aria-labelledby="chatModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="chatModalLabel">
              <i class="fas fa-robot me-2"></i>
              NFS AI Assistant
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            >
              <i class="fas fa-times"></i>
            </button>
          </div>
          <div class="modal-body">
            <iframe
              src="https://app.fastbots.ai/embed/cmcc08fgk0005oelx09k84oei"
              title="NFS Insurance AI Assistant"
            ></iframe>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
      // Navbar scroll effect
      window.addEventListener("scroll", function () {
        const navbar = document.querySelector(".navbar");
        if (window.scrollY > 50) {
          navbar.classList.add("scrolled");
        } else {
          navbar.classList.remove("scrolled");
        }
      });

      // Update current year in footer
      document.getElementById("current-year").textContent =
        new Date().getFullYear();

      // Function to close the modal after clicking "Continue to WhatsApp"
      function closeWhatsappModal() {
        const whatsappModal = bootstrap.Modal.getInstance(
          document.getElementById("whatsappChatModal")
        );
        if (whatsappModal) {
          whatsappModal.hide();
        }
      }

      // Gemini API Integration for Message Suggestion/Enhancement
      document
        .getElementById("suggestMessageBtn")
        .addEventListener("click", async function () {
          const project = document.getElementById("projectSelect").value;
          const subjectInput = document.getElementById("subjectInput");
          const messageTextarea = document.getElementById("messageTextarea");
          const suggestButton = this;

          const existingMessage = messageTextarea.value.trim();

          let prompt = ``;
          if (existingMessage) {
            // If there's an existing message, enhance it
            prompt = `The user has already started writing a message for an insurance company. Please enhance and refine this message to make it more professional, clear, and comprehensive. Ensure it flows well and covers the intent.
                
                Existing message: "${existingMessage}"`;

            if (project && project !== "Your Project") {
              prompt += ` The message is related to "${project}".`;
            }
            if (subjectInput.value.trim()) {
              prompt += ` The current subject of the inquiry is: "${subjectInput.value.trim()}".`;
            }
            // Instruct the AI to include subject and NO salutation
            prompt += ` Please rewrite the message to improve it, starting with a subject line on a new line prefixed with "Subject:", then two newlines, and finally the message body. Do NOT include any salutation like "Dear Agent," or "Hello,". Keep the message body concise (around 3-5 sentences) and polite.`;
            suggestButton.textContent = "Enhancing..."; // Change button text for enhancement
          } else {
            // If no existing message, generate a new one
            prompt = `Generate a concise and professional message for an insurance company contact form.`;

            if (project && project !== "Your Project") {
              prompt += ` The user is interested in "${project}".`;
            }
            if (subjectInput.value.trim()) {
              prompt += ` The subject of their inquiry is: "${subjectInput.value.trim()}".`;
            }
            // Instruct the AI to include subject and NO salutation
            prompt += ` The message should be relevant to their selection and subject, and express interest in learning more or requesting a quote. Start the message with a subject line on a new line prefixed with "Subject:", then two newlines, and finally the message body. Do NOT include any salutation like "Dear Agent," or "Hello,". Keep the message body to 2-3 sentences.`;
            suggestButton.textContent = "Generating..."; // Change button text for generation
          }

          suggestButton.disabled = true; // Disable button during API call

          try {
            let chatHistory = [];
            chatHistory.push({ role: "user", parts: [{ text: prompt }] });
            const payload = { contents: chatHistory };
            const apiKey = "AIzaSyAtC6dWDJUq2E0QQJqEZTT83WMYtxxvWnA"; // Canvas will automatically provide the API key
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            const response = await fetch(apiUrl, {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(payload),
            });

            const result = await response.json();

            if (
              result.candidates &&
              result.candidates.length > 0 &&
              result.candidates[0].content &&
              result.candidates[0].content.parts &&
              result.candidates[0].content.parts.length > 0
            ) {
              let generatedContent = result.candidates[0].content.parts[0].text;
              let extractedSubject = "";

              // Regex to find "Subject: [anything]" at the beginning of a line
              const subjectRegex = /^Subject:\s*(.*)/im; // 'i' for case-insensitive, 'm' for multiline
              const match = generatedContent.match(subjectRegex);

              if (match && match[1]) {
                extractedSubject = match[1].trim();
                // Remove the matched subject line from the full text
                generatedContent = generatedContent
                  .replace(subjectRegex, "")
                  .trim();
              }

              // Always prepend the consistent salutation here, after stripping potential AI-generated ones
              const finalMessage =
                "Dear NFS insurance Agent,\n\n" + generatedContent;

              subjectInput.value = extractedSubject;
              messageTextarea.value = finalMessage;
            } else {
              messageTextarea.value =
                "Could not process your request. Please try again or type manually.";
              console.error(
                "Gemini API returned an unexpected structure:",
                result
              );
            }
          } catch (error) {
            messageTextarea.value =
              "Failed to communicate with the AI. Please check your network or try again.";
            console.error("Error calling Gemini API:", error);
          } finally {
            suggestButton.disabled = false;
            suggestButton.textContent = "✨ Suggest Message"; // Reset button text
          }
        });
    </script>
  </body>
</html>
